
 'SGP': {

"6A":  { SGP: { od: 10.5 , t: 2.0 }, },
"8A":  { SGP: { od: 13.8 , t: 2.3 }, },
"10A": { SGP: { od: 17.3 , t: 2.3 }, },
"15A": { SGP: { od: 21.7 , t: 2.8 }, },
"20A": { SGP: { od: 27.2 , t: 2.8 }, },
"25A": { SGP: { od: 34.0 , t: 3.2 }, },
"32A": { SGP: { od: 42.7 , t: 3.5 }, },
"40A": { SGP: { od: 48.6 , t: 3.5 }, },
"50A": { SGP: { od: 60.5 , t: 3.8 }, },
"65A": { SGP: { od: 76.3 , t: 4.2 }, },
"80A": { SGP: { od: 89.1 , t: 4.2 }, },
"90A": { SGP: { od: 101.6, t:  4.2 }, },
"100A":{ SGP: { od: 114.3, t:  4.5 }, },
"125A":{ SGP: { od: 139.8, t:  4.5 }, },
"150A":{ SGP: { od: 165.2, t:  5.0 }, },
"175A":{ SGP: { od: 190.7, t:  5.3 }, },
"200A":{ SGP: { od: 216.3, t:  5.8 }, },
"225A":{ SGP: { od: 241.8, t:  6.2 }, },
"250A":{ SGP: { od: 267.4, t:  6.6 }, },
"300A":{ SGP: { od: 318.5, t:  6.9 }, },
"350A":{ SGP: { od: 355.6, t:  7.9 }, },
"400A":{ SGP: { od: 406.4, t:  7.9 }, },
"450A":{ SGP: { od: 457.2, t:  7.9 }, },
"500A":{ SGP: { od: 508.0, t:  7.9 }, },

  },

 'JIS G3456': {
    

"6A":  { Sch10s: { od: 10.5, t:  3 }, Sch20s: { od: 10.5,  t: 3 }, Sch40: { od: 10.5,  t: 3 }, Sch80: { od: 10.5,  t: 3 }, Sch120: { od: 10.5,  t: 3 }, Sch160: { od: 10.5; t: 6 } },
"8A":  { Sch10s: { od: 13.8, t:  3 }, Sch20s: { od: 13.8,  t: 3 }, Sch40: { od: 13.8,  t: 3 }, Sch80: { od: 13.8,  t: 3 }, Sch120: { od: 13.8,  t: 3 }, Sch160: { od: 13.8; t: 6 } },
"10A": { Sch10s: { od: 17.3, t:  3 }, Sch20s: { od: 17.3,  t: 3 }, Sch40: { od: 17.3,  t: 3 }, Sch80: { od: 17.3,  t: 3 }, Sch120: { od: 17.3,  t: 3 }, Sch160: { od: 17.3; t: 6 } },
"15A": { Sch10s: { od: 21.7, t:  3 }, Sch20s: { od: 21.7,  t: 3 }, Sch40: { od: 21.7,  t: 3 }, Sch80: { od: 21.7,  t: 3 }, Sch120: { od: 21.7,  t: 3 }, Sch160: { od: 21.7; t: 6 } },
"20A": { Sch10s: { od: 27.2, t:  3 }, Sch20s: { od: 27.2,  t: 3 }, Sch40: { od: 27.2,  t: 3 }, Sch80: { od: 27.2,  t: 3 }, Sch120: { od: 27.2,  t: 3 }, Sch160: { od: 27.2; t: 6 } },
"25A": { Sch10s: { od: 34.0, t:  3 }, Sch20s: { od: 34.0,  t: 3 }, Sch40: { od: 34.0,  t: 3 }, Sch80: { od: 34.0,  t: 3 }, Sch120: { od: 34.0,  t: 3 }, Sch160: { od: 34.0; t: 6 } },
"32A": { Sch10s: { od: 42.7, t:  3 }, Sch20s: { od: 42.7,  t: 3 }, Sch40: { od: 42.7,  t: 3 }, Sch80: { od: 42.7,  t: 3 }, Sch120: { od: 42.7,  t: 3 }, Sch160: { od: 42.7; t: 6 } },
"40A": { Sch10s: { od: 48.6, t:  3 }, Sch20s: { od: 48.6,  t: 3 }, Sch40: { od: 48.6,  t: 3 }, Sch80: { od: 48.6,  t: 3 }, Sch120: { od: 48.6,  t: 3 }, Sch160: { od: 48.6; t: 6 } },
"50A": { Sch10s: { od: 60.5, t:  3 }, Sch20s: { od: 60.5,  t: 3 }, Sch40: { od: 60.5,  t: 3 }, Sch80: { od: 60.5,  t: 3 }, Sch120: { od: 60.5,  t: 3 }, Sch160: { od: 60.5; t: 6 } },
"65A": { Sch10s: { od: 76.3, t:  3 }, Sch20s: { od: 76.3,  t: 3 }, Sch40: { od: 76.3,  t: 3 }, Sch80: { od: 76.3,  t: 3 }, Sch120: { od: 76.3,  t: 3 }, Sch160: { od: 76.3; t: 6 } },
"80A": { Sch10s: { od: 89.1, t:  3 }, Sch20s: { od: 89.1,  t: 3 }, Sch40: { od: 89.1,  t: 3 }, Sch80: { od: 89.1,  t: 3 }, Sch120: { od: 89.1,  t: 3 }, Sch160: { od: 89.1; t: 6 } },
"100A":{ Sch10s: { od: 114.3, t: 3 }, Sch20s: { od: 114.3, t: 3 }, Sch40: { od: 114.3, t: 3 }, Sch80: { od: 114.3, t: 3 }, Sch120: { od: 114.3, t: 3 }, Sch160: { od: 114.3; t: 6 } },
"125A":{ Sch10s: { od: 139.8, t: 3 }, Sch20s: { od: 139.8, t: 3 }, Sch40: { od: 139.8, t: 3 }, Sch80: { od: 139.8, t: 3 }, Sch120: { od: 139.8, t: 3 }, Sch160: { od: 139.8; t: 6 } },
"150A":{ Sch10s: { od: 165.2, t: 3 }, Sch20s: { od: 165.2, t: 3 }, Sch40: { od: 165.2, t: 3 }, Sch80: { od: 165.2, t: 3 }, Sch120: { od: 165.2, t: 3 }, Sch160: { od: 165.2; t: 6 } },
"200A":{ Sch10s: { od: 216.3, t: 3 }, Sch20s: { od: 216.3, t: 3 }, Sch40: { od: 216.3, t: 3 }, Sch80: { od: 216.3, t: 3 }, Sch120: { od: 216.3, t: 3 }, Sch160: { od: 216.3; t: 6 } },
"250A":{ Sch10s: { od: 267.4, t: 3 }, Sch20s: { od: 267.4, t: 3 }, Sch40: { od: 267.4, t: 3 }, Sch80: { od: 267.4, t: 3 }, Sch120: { od: 267.4, t: 3 }, Sch160: { od: 267.4; t: 6 } },
"300A":{ Sch10s: { od: 318.5, t: 3 }, Sch20s: { od: 318.5, t: 3 }, Sch40: { od: 318.5, t: 3 }, Sch80: { od: 318.5, t: 3 }, Sch120: { od: 318.5, t: 3 }, Sch160: { od: 318.5; t: 6 } },
"350A":{ Sch10s: { od: 355.6, t: 3 }, Sch20s: { od: 355.6, t: 3 }, Sch40: { od: 355.6, t: 3 }, Sch80: { od: 355.6, t: 3 }, Sch120: { od: 355.6, t: 3 }, Sch160: { od: 355.6; t: 6 } },
"400A":{ Sch10s: { od: 406.4, t: 3 }, Sch20s: { od: 406.4, t: 3 }, Sch40: { od: 406.4, t: 3 }, Sch80: { od: 406.4, t: 3 }, Sch120: { od: 406.4, t: 3 }, Sch160: { od: 406.4; t: 6 } },
"450A":{ Sch10s: { od: 457.2, t: 3 }, Sch20s: { od: 457.2, t: 3 }, Sch40: { od: 457.2, t: 3 }, Sch80: { od: 457.2, t: 3 }, Sch120: { od: 457.2, t: 3 }, Sch160: { od: 457.2; t: 6 } },
"500A":{ Sch10s: { od: 508.0, t: 3 }, Sch20s: { od: 508.0, t: 3 }, Sch40: { od: 508.0, t: 3 }, Sch80: { od: 508.0, t: 3 }, Sch120: { od: 508.0, t: 3 }, Sch160: { od: 508.0; t: 6 } },
"550A":{ Sch10s: { od: 558.8, t: 3 }, Sch20s: { od: 558.8, t: 3 }, Sch40: { od: 558.8, t: 3 }, Sch80: { od: 558.8, t: 3 }, Sch120: { od: 558.8, t: 3 }, Sch160: { od: 558.8; t: 6 } },
"600A":{ Sch10s: { od: 609.6, t: 3 }, Sch20s: { od: 609.6, t: 3 }, Sch40: { od: 609.6, t: 3 }, Sch80: { od: 609.6, t: 3 }, Sch120: { od: 609.6, t: 3 }, Sch160: { od: 609.6; t: 6 } },
"650A":{ Sch10s: { od: 660.4, t: 3 }, Sch20s: { od: 660.4, t: 3 }, Sch40: { od: 660.4, t: 3 }, Sch80: { od: 660.4, t: 3 }, Sch120: { od: 660.4, t: 3 }, Sch160: { od: 660.4; t: 6 } },


  },
  

 'G3468': {
    

"150A":{ Sch5s: { od: 165.2,  t: 2.8 }, Sch10s: { od: 165.2,  t: 3.4 }, Sch20s: { od: 165.2,  t: 5.0 }, Sch40: { od: 165.2,  t: 7.1 }, },
"200A":{ Sch5s: { od: 216.3,  t: 2.8 }, Sch10s: { od: 216.3,  t: 4.0 }, Sch20s: { od: 216.3,  t: 6.5 }, Sch40: { od: 216.3,  t: 8.2 }, },
"250A":{ Sch5s: { od: 267.4,  t: 3.4 }, Sch10s: { od: 267.4,  t: 4.0 }, Sch20s: { od: 267.4,  t: 6.5 }, Sch40: { od: 267.4,  t: 9.3 }, },
"300A":{ Sch5s: { od: 318.5,  t: 4.0 }, Sch10s: { od: 318.5,  t: 4.5 }, Sch20s: { od: 318.5,  t: 6.5 }, Sch40: { od: 318.5,  t: 10.3 }, },
"350A":{ Sch5s: { od: 355.6,  t: 4.0 }, Sch10s: { od: 355.6,  t: 5.0 }, Sch20s: { od: 355.6,  t: 8.0 }, Sch40: { od: 355.6,  t: 11.1 }, },
"400A":{ Sch5s: { od: 406.4,  t: 4.5 }, Sch10s: { od: 406.4,  t: 5.0 }, Sch20s: { od: 406.4,  t: 8.0 }, Sch40: { od: 406.4,  t: 12.7 }, },
"450A":{ Sch5s: { od: 457.2,  t: 4.5 }, Sch10s: { od: 457.2,  t: 5.0 }, Sch20s: { od: 457.2,  t: 8.0 }, Sch40: { od: 457.2,  t: 14.3 }, },
"500A":{ Sch5s: { od: 508.0,  t: 5.0 }, Sch10s: { od: 508.0,  t: 5.5 }, Sch20s: { od: 508.0,  t: 9.5 }, Sch40: { od: 508.0,  t: 15.1 }, },
"550A":{ Sch5s: { od: 558.8,  t: 5.0 }, Sch10s: { od: 558.8,  t: 5.5 }, Sch20s: { od: 558.8,  t: 9.5 }, Sch40: { od: 558.8,  t: 15.9 }, },
"600A":{ Sch5s: { od: 609.6,  t: 5.5 }, Sch10s: { od: 609.6,  t: 6.5 }, Sch20s: { od: 609.6,  t: 9.5 }, Sch40: { od: 609.6,  t: 17.5 }, },
"650A":{ Sch5s: { od: 660.4,  t: 5.5 }, Sch10s: { od: 660.4,  t: 8.0 }, Sch20s: { od: 660.4,  t: 12.7 }, Sch40: { od: 660.4,  t: 17.5 }, },
 "700":{ Sch5s: { od: 711.2,  t: 5.5 }, Sch10s: { od: 711.2,  t: 8.0 }, Sch20s: { od: 711.2,  t: 12.7 }, Sch40: { od: 711.2,  t: 17.5 }, },
 "750":{ Sch5s: { od: 762.0,  t: 6.5 }, Sch10s: { od: 762.0,  t: 8.0 }, Sch20s: { od: 762.0,  t: 12.7 }, Sch40: { od: 762.0,  t: 17.5 }, },
 "800":{  Sch10s: { od: 812.8,  t: 8.0 }, Sch20s: { od: 812.8,  t: 12.7 }, Sch40: { od: 812.8,  t: 17.5 }, },
 "850":{  Sch10s: { od: 863.6,  t: 8.0 }, Sch20s: { od: 863.6,  t: 12.7 }, Sch40: { od: 863.6,  t: 17.5 }, },
 "900":{  Sch10s: { od: 914.4,  t: 8.0 }, Sch20s: { od: 914.4,  t: 12.7 }, Sch40: { od: 914.4,  t: 19.1 }, },
"1000":{  Sch10s: { od: 1016.0, t: 9.5 }, Sch20s: { od: 1016.0, t: 14.3 }, Sch40: { od: 1016.0, t: 26.2 }, },

  },


  呼び径	外径	厚み	重量(kg/m)	許容誤差(外径)	許容誤差(厚み)
8	  9.52	0.7	0.154	±0.12	-
10	12.70	0.8	0.237	±0.12	-
13	15.88	0.8	0.301	±0.12	-
20	22.22	1.0	0.529	±0.12	-
25	28.58	1.0	0.687	±0.12	-
30	34.0	1.2	0.980	±0.34	±0.20
40	42.7	1.2	1.24	±0.43	±0.43
50	48.6	1.2	1.42	±0.49	±0.25
60	60.5	1.5	2.20	±0.60	±0.15
75	76.3	1.5	2.79	±1%	±0.5%
80	89.1	2.0	4.34	-	-
100	114.3	2.0	5.59	±0.30	-
125	139.8	2.0	6.87	-	-
150	165.2	3.0	12.1	±0.40	-
200	216.3	3.0	15.9	-	-
250	267.4	3.0	19.8	-	-
300	318.5	3.0	23.6	-	-

   
"8A":  { 一般: { od: 9.52,t:  0.154 }  },
"10A": { 一般: { od: 12.70,t: 0.237 } },
"13A": { 一般: { od: 15.88,t: 0.301 } },
"20A": { 一般: { od: 22.22,t: 0.529 } },
"25A": { 一般: { od: 28.58,t: 0.687 } },
"30A": { 一般: { od: 34.0, t: 0.980 } },
"40A": { 一般: { od: 42.7, t: 1.24 } },
"50A": { 一般: { od: 48.6, t: 1.42 } },
"60A": { 一般: { od: 60.5, t: 2.20 } },
"75A": { 一般: { od: 76.3, t: 2.79 } },
"80A": { 一般: { od: 89.1, t: 4.34 } },
"100A":{ 一般: { od: 114.3, t: 5.59 } },
"125A":{ 一般: { od: 139.8, t: 6.87 } },
"150A":{ 一般: { od: 165.2, t: 12.1 } },
"200A":{ 一般: { od: 216.3, t: 15.9 } },
"250A":{ 一般: { od: 267.4, t: 19.8 } },
"300A":{ 一般: { od: 318.5, t: 23.6 } },





// src/composables/estimate/usePipeCalculator.ts

import { pipeSizes, materialDensities } from '@/data/materials';
import type { EstimateRow } from '@/types/estimate';
import { fittingFactors } from '@/composables/estimate/useFittingCalculator';

/**
 * サイズから呼び径（インチ）をマッピング
 */
const sizeToNominalInch: Record<string, number> = {
  '6A': 0.25, '8A': 0.25, '10A': 0.375, '15A': 0.5, '20A': 0.75, '25A': 1,
  '32A': 1.25, '40A': 1.5, '50A': 2, '65A': 2.5, '80A': 3, '90A': 3.5,
  '100A': 4, '125A': 5, '150A': 6, '175A': 7, '200A': 8, '225A': 9,
  '250A': 10, '300A': 12, '350A': 14, '400A': 16, '450A': 18, '500A': 20,
  '550A': 22, '600A': 24, '650A': 26, '700A': 28, '750A': 30, '800A': 32,
  '850A': 34, '900A': 36, '1000A': 40,
};

/**
 * パイプの重量を計算（JIS・材質・スケジュール対応）
 */
export function getPipeWeight(row: EstimateRow): number {
  // pipeSizesはjisMapとして複数グループ対応済み想定
  const specs = pipeSizes[row.jis];
  if (!specs) return 0;

  const spec = specs[row.size]?.[row.schedule];
  if (!spec) return 0;

  const density = materialDensities[row.material];
  if (!density) return 0;

  const id = spec.od - 2 * spec.t;
  const area = Math.PI * (spec.od ** 2 - id ** 2) / 4;
  const volume = area / 1e6 * row.length;
  return volume * density;
}

/**
 * 継手の重量を計算（異径サイズ対応・JIS・材質・スケジュール対応）
 */
export function getFittingWeight(row: EstimateRow): number {
  const specs = pipeSizes[row.jis];
  if (!specs) return 0;

  const spec = specs[row.size]?.[row.schedule];
  if (!spec) return 0;

  const density = materialDensities[row.material];
  if (!density) return 0;

  const factor = fittingFactors[row.shape] ?? 0.2;

  const id = spec.od - 2 * spec.t;
  const area = Math.PI * (spec.od ** 2 - id ** 2) / 4;
  const pipeWeightPerMeter = area / 1e6 * density;

  

  // 呼び径を取得（異径対応: "100A*25A" → ["100A", "25A"]）
  const nominalInchTotal = row.size
    .split('*')
    .map((s) => sizeToNominalInch[s.trim()] ?? 1)
    .reduce((sum, inch) => sum + inch, 0);

    

  return pipeWeightPerMeter * factor * nominalInchTotal * row.quantity;
}




0.085   01.31   15A     21.7,  t: 2.8
0.112   01.68   20A     27.2,  t: 2.8
0.236   02.43   25A     34.0,  t: 3.2
0.411   03.38   32A     42.7,  t: 3.5
0.573   03.89   40A     48.6,  t: 3.5
0.851   05.31   50A     60.5,  t: 3.8
1.420   07.47   65A     76.3,  t: 4.2
1.870   08.79   80A     89.1,  t: 4.2
2.320   10.1    90A     101.6, t: 4.2
3.130   12.2    100A    114.3, t: 4.5
4.530   15.0    125A    139.8, t: 4.5
6.840   19.8    150A    165.2, t: 5.0
12.80   30.1    200A    216.3, t: 5.8
21.80   42.4    250A    267.4, t: 6.6
32.00   53.0    300A    318.5, t: 6.9
44.70   67.7    350A    355.6, t: 7.9
55.20   77.6    400A    406.4, t: 7.9
70.00   87.5    450A    457.2, t: 7.9
86.60   97.4    500A    508.0, t: 7.9





| 呼び径  | 外径 D (mm) | 元厚み (mm) | 調整パイプ重量 (kg/m) | 計算厚み t (mm) |
| ---- | --------- | -------- | -------------- | ----------- |
| 15A  | 21.7      | 2.8      | 2.646          | 5.37        |
| 20A  | 27.2      | 2.8      | 2.326          | 3.88        |
| 25A  | 34.0      | 3.2      | 3.674          | 5.20        |
| 32A  | 42.7      | 3.5      | 5.123          | 5.20        |
| 40A  | 48.6      | 3.5      | 5.899          | 6.13        |
| 50A  | 60.5      | 3.8      | 6.623          | 4.78        |
| 65A  | 76.3      | 4.2      | 8.854          | 5.19        |
| 80A  | 89.1      | 4.2      | 9.705          | 3.99        |
| 90A  | 101.6     | 4.2      | 10.31          | 3.33        |
| 100A | 114.3     | 4.5      | 12.18          | 4.50        |
| 125A | 139.8     | 4.5      | 14.11          | 3.77        |
| 150A | 165.2     | 5.0      | 17.77          | 3.98        |
| 200A | 216.3     | 5.8      | 24.83          | 3.61        |
| 250A | 267.4     | 6.6      | 33.95          | 3.87        |
| 300A | 318.5     | 6.9      | 41.22          | 3.84        |
| 350A | 355.6     | 7.9      | 49.73          | 4.01        |
| 400A | 406.4     | 7.9      | 53.58          | 3.45        |
| 450A | 457.2     | 7.9      | 60.50          | 3.53        |
| 500A | 508.0     | 7.9      | 67.44          | 3.73        |


















